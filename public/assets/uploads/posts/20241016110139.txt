CREATE TABLE `sale` (
 `id` int(10) unsigned NOT NULL AUTO_INCREMENT,
 `user_id` int(10) unsigned NOT NULL,
 `brand` varchar(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `business_id` int(100) unsigned NOT NULL,
 `business_document` varchar(45) NOT NULL,
 `business_person_id` int(10) unsigned NOT NULL,
 `business_person_job` varchar(45) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `business_person_document` varchar(45) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL,
 `business_person_phone` varchar(45) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `business_person_email` varchar(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `business_address` text CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `delivery_instalation_address` text CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `coordinates` varchar(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `delivery_date` datetime DEFAULT NULL,
 `purchase_products` text CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `file_document` varchar(200) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `file_vigencia_poderes` varchar(200) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `file_distribucion_lineas` varchar(200) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `file_previous_operator` varchar(200) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `file_geodir` varchar(200) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `file_excel_macro_fija` varchar(200) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `file_others` varchar(200) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `state` int(11) NOT NULL DEFAULT 1,
 `created_by` varchar(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL DEFAULT 'root',
 `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
 `edited_by` varchar(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `edited_at` datetime DEFAULT NULL,
 PRIMARY KEY (`id`),
 KEY `user_id` (`user_id`),
 KEY `business_id` (`business_id`),
 KEY `business_person_id` (`business_person_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8

ALTER TABLE `sale` ADD `type` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL AFTER `brand`;




CREATE TABLE `chambeo`.`equip_model` ( `id` INT NOT NULL , `description` TEXT CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL , `state` INT NOT NULL DEFAULT '1' , `created_by` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL DEFAULT 'root' , `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP , `edited_by` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL , `edited_at` DATETIME NULL DEFAULT NULL , PRIMARY KEY (`id`)) ENGINE = InnoDB;



CREATE TABLE `chambeo`.`plan` ( `id` INT UNSIGNED NOT NULL , `description` TEXT CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL , `state` INT NOT NULL DEFAULT '1' , `created_by` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL DEFAULT 'root' , `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP , `edited_by` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL , `edited_at` DATETIME NULL DEFAULT NULL , PRIMARY KEY (`id`)) ENGINE = InnoDB;


CREATE TABLE `chambeo`.`product` ( `id` INT UNSIGNED NOT NULL , `description` TEXT CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL , `type` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL , `state` INT NOT NULL DEFAULT '1' , `created_by` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL DEFAULT 'root' , `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP , `edited_by` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL , `edited_at` DATETIME NULL DEFAULT NULL , PRIMARY KEY (`id`)) ENGINE = InnoDB;



CREATE TABLE `sale_portability` (
 `id` int(10) unsigned NOT NULL,
 `sale_id` int(10) unsigned NOT NULL,
 `plan_id` int(10) unsigned NOT NULL,
 `equip_model_id` int(10) unsigned NOT NULL,
 `phone` varchar(45) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `calls` varchar(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `campaign` varchar(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `previous_operator` varchar(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci DEFAULT NULL,
 `state` int(11) NOT NULL DEFAULT 1,
 `created_by` varchar(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL DEFAULT 'root',
 `created_at` timestamp NOT NULL DEFAULT current_timestamp(),
 `edited_by` varchar(100) DEFAULT NULL,
 `edited_at` datetime DEFAULT NULL,
 PRIMARY KEY (`id`),
 KEY `sale_id` (`sale_id`),
 KEY `sale_plan_id` (`plan_id`),
 KEY `equip_model_id` (`equip_model_id`)
) ENGINE=InnoDB DEFAULT CHARSET=utf8


CREATE TABLE `chambeo`.`sale_product` ( `id` INT UNSIGNED NOT NULL AUTO_INCREMENT , `sale_id` INT UNSIGNED NOT NULL , `product_id` INT UNSIGNED NOT NULL , `state` INT NOT NULL , `created_by` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NOT NULL DEFAULT 'root' , `created_at` TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP , `edited_by` VARCHAR(100) CHARACTER SET utf8 COLLATE utf8_unicode_ci NULL DEFAULT NULL , `edited_at` DATETIME NULL DEFAULT NULL , PRIMARY KEY (`id`), INDEX `sale_id` (`sale_id`), INDEX `product_id` (`product_id`)) ENGINE = InnoDB;
